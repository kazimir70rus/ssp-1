**Техническое задание для внесения в договор № 2**

1. При постановке периодических задач, в пункт «еженедельно» добавить выпадающее меню, с возможностью выбора нескольких дней недели (от одного до пяти – понедельник, вторник, среда, четверг, пятница), в которые будет повторяться задача.


2. Реализовать автоматическое уведомление при постановке новых задач, по алгоритму: 

 2.1. уведомление должно приходить по всем задачам, которые НЕ являются периодическими (т.е. только по разовым задачам);

 2.2. уведомление приходит во всех случаях, когда задача переходит в статус «новая»;

 2.3. в уведомлении указывается только суть задания и срок выполнения (строка «Задание» и строка «Срок» в программе), остальные признаки задачи исполнитель/потребитель смотрят в программе самостоятельно.

 2.4. по задачам, где потребитель и инициатор одно лицо – должно приходить уведомление только исполнителю; 

 2.5. по задачам, где потребитель и инициатор разные лица – должно приходить уведомление исполнителю и потребителю.


3. Реализовать шаблон для исполнителей, для отчета по задачам, с видом отчета  «ДЗ»:

а) создать кнопку «загрузить ДЗ»;

б) при нажатии указанной кнопки исполнителем, должен открываться шаблон ДЗ для отчета, соответствующий стандарту оформления ДЗ (Стандарт №2 ГК УД);

в)  в шаблоне автоматически должны заполняться поля с реквизитами задачи (кому, от кого, дата, наименование задачи, срок исполнения, подпись исполнителя). Исполнитель должен только вставить либо набрать текст, нажать кнопку «Загрузить ДЗ»;

г)  при распечатке, все реквизиты (пункт в)) и текст должны распечататься.


4. По задачам с видом отчета «ДЗ» и «Документ+отчет» реализовать дополнительные функции для инициатора, помимо стандартных действий:

4.1 Отправка копий ДЗ множеству исполнителей для информации:

4.1.1 инициатор нажимает кнопку «отправить для информации», выбирает список сотрудников, которым необходимо отправить документ (может выбрать любого, независимо от иерархии);

4.1.2 у всех адресатов появляется задача в статусе «необходимо ознакомиться» (срок исполнения – 5 рабочих дней, стоимость – ноль баллов), к которой приложен указанный документ;

4.1.3 после того, как адресат ознакомится с документом, он выбирает пункт «закрыть задачу», задача переходит в статус «завершена» (без согласования с инициатором и контролером).

4.2  Создание новых задач из шаблонов (чтобы инициатор мог выбрать типовые визы):

4.2.1 в админке реализовать механизм создания типовых задач (шаблонов), заполняя все реквизиты, кроме исполнителя и срока;

4.2.2 инициатор, находясь внутри задачи, нажимает кнопку «поставить задачу», далее выбирает «типовая задача» либо «разовая задача»;

4.2.3 в случае «разовой задачи» - инициатору открывается стандартное меню для постановки новой задачи»;

4.2.4 в случае «типовой задачи» - открывается список типовых задач, инициатор выбирает нужную, после ему остается добавить только исполнителя и срок.


5. Реализовать возможность отправления через программу инициативных ДЗ/СЗ: 

а) создать кнопку «Инициативная ДЗ/СЗ», доступную для любого пользователя;

б) при нажатии кнопки открывается шаблон (пункт 3), в котором все поля (реквизиты) пусты;

в) в шаблоне пользователь самостоятельно заполняет все необходимые реквизиты, нажимает кнопку «отправить документ».

г) у адресата возникает задача в статусе «необходимо ознакомиться» (срок исполнения – 5 рабочих дней, стоимость – ноль баллов), к которой приложен указанный документ;

д)  после того, как адресат ознакомится с документом, он может:

д.1. выбрать пункт «закрыть задачу», задача переходит в статус «завершена» (без согласования с инициатором и контролером).

д.2 выбрать пункт «создать задачу» (в рамках своих полномочий) и далее все должно работать по алгоритму, описанному в пунктах 4.2.2-4.2.4.


6. Реализовать в столбце «ДЗ», на главной странице, отображение информации о том, что исполнитель прикрепил файл при отчете о выполнении задачи, а также информацию о том, что прикрепленный документ был распечатан:

а) если исполнителем загружен один файл – в столбце отражается цифра «1», если два файла, отражается «2» и т. д.

?? после переноса задачи, счетчик документов обнуляется? т. к. после переноса система будет ждать от исполнителя новый файл при закрытии или переносе.

б) если документ не распечатан контролером, цифра горит ярким цветом, если распечатан контролером – бледным (в случае если документ распечатан любым другим пользователем кроме контролера – цифра горит ярким цветом).

??загружено несколько документов, часть из них распечатана, часть нет. Ориентироваться на то, что если хотя бы один не распечатан контроллером, то яркий цвет, в остальных случаях бледный.
